import{d as V,e as X,f as Z,g as K,h as q,i as Q,j as W,k as $,l as ee}from"/build/_shared/chunk-GYZ4EGJZ.js";import{a as se}from"/build/_shared/chunk-6NNCTYAU.js";import{g as l}from"/build/_shared/chunk-D7TEDUQN.js";import{a as O,b}from"/build/_shared/chunk-3Z32TANI.js";import{d as s}from"/build/_shared/chunk-T36URGAI.js";var x=s(O(),1),d=s(b(),1),le=({styling:n,children:R})=>{let E=n==null?!0:n.roundedCorners,y=n==null?1:n.scaleContent,F=n==null?!1:n.showControls,j=n==null?"cover":n.objectFit,[g,S]=x.default.useState(0),N=["tractor","remotecar","keywest","lion","baldeagle","fireengine","pumpkin","dino_5","hutmushroom","colored_box"];return(0,x.useEffect)(()=>{var u=new URLSearchParams(window.location.search);let c=N[g];var v=u.get("rotate");v===null&&(v="0");var D=parseInt(v);let re="/models/",k="/hdris/",r=document.getElementById("renderCanvas");r.addEventListener("wheel",e=>e.preventDefault());let I=new BABYLON.Engine(r,!0);var i=new BABYLON.Scene(I),a=new BABYLON.ArcRotateCamera("camera1",Math.PI*.5,Math.PI/2.5,1.5,BABYLON.Vector3.Zero(),i);a.panningSensibility=0,a.lowerRadiusLimitSearch=.015,a.minZ=.3,a.wheelDeltaPercentage=.05,D?(a.useAutoRotationBehavior=!0,a.autoRotationBehavior.idleRotationSpeed=-.5):a.attachControl(r,!0);var _=BABYLON.Mesh.CreateBox("skyBox",100,i),f=new BABYLON.PBRMaterial("skyBox",i);f.backFaceCulling=!1,f.disableLighting=!0,f.microSurface=.85,_.material=f,_.infiniteDistance=!0;var T=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI"),M=T.getSize(),fe=M.width/M.height,o=new BABYLON.GUI.Grid;o.addColumnDefinition(1/4),o.addColumnDefinition(1/4),o.addColumnDefinition(1/4),o.addColumnDefinition(1/4),o.addRowDefinition(1/8),o.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,o.height=2/8,o.width=1;var G=function(e){var p=new BABYLON.CubeTexture.CreateFromPrefilteredData(e,i);p.gammaSpace=!1,f.reflectionTexture=new BABYLON.CubeTexture(e,i),f.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE,i.environmentTexture=p},B=function(e,p,H){var ie=H%e.columnCount,ae=Math.floor(H/e.columnCount)*2,z=BABYLON.GUI.Button.CreateImageOnlyButton(p,k+p+".jpg");z.onPointerClickObservable.add(function(){G(k+p+".env")}),e.addControl(z,ae,ie)};if(T.addControl(o),B(o,"forest_slope",0),B(o,"lebombo",1),B(o,"photo_studio",2),B(o,"urban_alley",3),!D){var m=new BABYLON.GUI.StackPanel;m.width="200px",m.height="80px",m.isVertical=!1,m.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,m.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,T.addControl(m);var L=!0,w=new BABYLON.GUI.Checkbox;w.width="20px",w.height="20px",w.isChecked=L,w.color="gray";var Y=!1,A={x:0,y:0},C={x:0,y:0},h=new BABYLON.TransformNode("",i),P=function(e){A.x=e.clientX,A.y=e.clientY,C.x=h.rotation.x,C.y=h.rotation.y,Y=!0},U=function(e){Y&&(h.rotation.y=C.y-(e.clientX-A.x)/100,h.rotation.x=C.x+(e.clientY-A.y)/100)},J=function(e){Y=!1};w.onIsCheckedChangedObservable.add(function(e){L=!L,L?(r.removeEventListener("pointerdown",P),r.removeEventListener("pointermove",U),r.removeEventListener("pointerup",J),a.attachControl(r,!0)):(a.detachControl(),r.addEventListener("pointerdown",P),r.addEventListener("pointermove",U),r.addEventListener("pointerup",J))})}BABYLON.SceneLoader.OnPluginActivatedObservable.addOnce(function(e){e.name==="gltf"&&(e.loggingEnabled=!1)}),BABYLON.SceneLoader.Append(re,c+".glb",void 0,i,function(e){G(k+"forest_slope.env")}),I.runRenderLoop(function(){if(!e){var e=i.getMeshByID("ObjectToExport");e&&(e.parent=h)}i.render()}),window.addEventListener("resize",function(){I.resize()})},[g]),(0,d.jsxs)("div",{className:"relative w-full bg-slate-200 rounded-lg",style:{height:"40rem",overflow:"hidden"},children:[(0,d.jsx)("canvas",{id:"renderCanvas","touch-action":"none",className:"absolute top-0 left-0 w-full h-full"}),(0,d.jsx)("div",{className:"absolute top-0 left-0 w-full h-20 grid grid-cols-fill gap-0 grid-flow-col",children:N.map((u,c)=>(0,d.jsx)("div",{className:"relative w-auto h-auto",children:(0,d.jsx)("img",{src:"/models/"+u+".jpg",alt:u,className:"w-full h-full object-cover",style:{aspectRatio:"1 / 1"},onClick:()=>{S(c)}})},c))})]})},te=le;var ce=s(se(),1);var oe=s(O(),1);var t=s(b(),1),ne=s(O(),1);var de=()=>{let{title:n}=l(),{authors:R}=l(),{institutions:E}=l(),{links:y}=l(),{document:F}=l(),{figures:j}=l(),{citation:g}=l(),{acknowledgements:S}=l(),[N,u]=(0,oe.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[N&&(0,t.jsx)(W,{title:n.title,links:y}),(0,t.jsx)("div",{className:"flex w-full flex-col bg-white dark:bg-black",children:(0,t.jsxs)("div",{className:"mx-auto w-full max-w-4xl px-4 py-12 pb-10 md:px-8",children:[(0,t.jsxs)(K,{onScrolledPassed:c=>{u(c)},children:[(0,t.jsx)($,{title:n.title,subtitle:n.subtitle}),(0,t.jsx)(X,{authors:R}),(0,t.jsx)(q,{institutions:E}),(0,t.jsx)(Q,{links:y})]}),F.chapters.map((c,v)=>(0,ne.createElement)(ee,{...c,key:v,figures:j})),(0,t.jsx)(te,{url:"models/baldeagle.jpg"}),(0,t.jsx)(Z,{...g}),(0,t.jsx)(V,{...S})]})})]})},ue=de;export{ue as default};
